
<script
  async="async"
  data-cfasync="false"
  src="//pl28180421.effectivegatecpm.com/127f6a74455c8e74b6edd84d1f07ea03/invoke.js"
></script>
<div id="container-127f6a74455c8e74b6edd84d1f07ea03"></div>

<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Birthday Magic </title>
<style>
  :root{
    --bg:#0b1020;
    --card:#0f1630;
    --accent:#ffb703;
    --muted:#bfc8ff;
  }
  html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans",ubuntu,"Helvetica Neue",Arial;}
  body{background: radial-gradient(circle at 10% 10%, #112, #02030a 60%); color:var(--muted); display:flex; align-items:center; justify-content:center; padding:20px;}
  .wrap{width:100%;max-width:920px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:18px; padding:18px; box-shadow:0 10px 30px rgba(2,6,23,0.7); position:relative; overflow:hidden;}
  .top{display:flex;gap:18px; align-items:center;}
  .left{flex:1; text-align:center;}
  .cake{max-width:100%; height:auto; border-radius:12px; box-shadow:0 8px 30px rgba(0,0,0,0.6);}
  .right{width:360px; min-width:260px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px; padding:12px;}
  h1{margin:6px 0 12px 0; font-size:20px; color:#fff;}
  label{font-size:13px; color:var(--muted); display:block; margin-bottom:6px;}
  input[type="text"]{width:100%; padding:10px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.06); background:rgba(0,0,0,0.25); color:#fff; font-size:15px; outline:none;}
  .controls{display:flex; gap:8px; margin-top:12px;}
  button{flex:1; padding:10px; border-radius:10px; border:0; font-weight:600; cursor:pointer;}
  .btn-whatsapp{background:linear-gradient(90deg,#14A44D,#27C06F); color:#fff; display:flex; align-items:center; gap:8px; justify-content:center;}
  .btn-gen{background:#2b2f5e; color: #fff;}
  .small{font-size:12px; color:#cbd2ff; margin-top:10px;}
  .linkbox{margin-top:10px; display:flex; gap:8px; align-items:center;}
  .link{flex:1; padding:8px 10px; border-radius:8px; background:rgba(255,255,255,0.03); font-size:13px; color:#dfe7ff; overflow-wrap:anywhere;}
  .playOverlay{position:absolute; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none;}
  .playBtn{pointer-events:auto; background:linear-gradient(45deg,#ff6b6b,#ffb703); border-radius:999px; padding:18px 22px; font-weight:800; font-size:18px; color:#111; box-shadow:0 10px 30px rgba(255,103,103,0.12);}
  .hidden{display:none;}
  /* Celebration area (full-screen-ish) */
  .celebrate{position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; pointer-events:none;}
  .message{font-size:40px; color:#fff; text-align:center; text-shadow: 0 6px 30px rgba(0,0,0,0.6); transform:translateY(-10px); opacity:0;}
  .fromName{margin-top:10px; font-size:20px; color:#ffd37d; opacity:0;}
  .typeAnim{display:inline-block; border-right:2px solid rgba(255,255,255,0.8); padding-right:4px; animation:blink 1s steps(2) infinite;}
  @keyframes blink{50%{border-color:transparent}}
  .pulse{animation:pulse 1s ease-in-out infinite;}
  @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.04)}100%{transform:scale(1)}}
  /* Fireworks canvas full cover */
  canvas#fx{position:absolute; inset:0; width:100%; height:100%; pointer-events:none;}
  /* Footer small */
  .footer{margin-top:14px; font-size:12px; color:#9fb0ff; display:flex; gap:10px; align-items:center; justify-content:space-between;}
  .brand{font-weight:600; color:#fff;}
  /* Responsive */
  @media (max-width:820px){
    .top{flex-direction:column;}
    .right{width:100%;}
    .message{font-size:28px}
  }
</style>
</head>
<body>
  <div class="wrap" id="app">
    <div class="top">
      <div class="left">
        <!-- cake.gif should be placed in same folder with this html -->
        <img src="cake.gif" alt="Cake" class="cake" id="cakeImg" />
        <div class="small">Share the joy â€” type your name below, generate link & send ðŸŽ‰</div>
      </div>

      <div class="right" role="region" aria-label="Controls">
        <h1>Send Birthday Wishes</h1>
        <label for="yourName">à¤†à¤ªà¤•à¤¾ à¤¨à¤¾à¤® (From)</label>
        <input id="yourName" type="text" placeholder="à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¥‡à¤‚ â€” à¤œà¥ˆà¤¸à¥‡ 'Anshu'">

        <div class="controls">
          <button class="btn-gen" id="genBtn">Generate Link</button>
          <button class="btn-whatsapp" id="shareBtn" title="Share via WhatsApp">
            <!-- WhatsApp SVG -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden>
              <path d="M20.52 3.478A11.9 11.9 0 0 0 12 0C5.373 0 .001 5.373.001 12.001c0 2.113.553 4.17 1.6 5.99L0 24l6.234-1.62A11.936 11.936 0 0 0 12 24c6.627 0 12-5.373 12-11.999 0-3.2-1.248-6.197-3.48-8.523z" fill="#fff"/>
              <path d="M17.472 14.382s-.316.889-1.029 1.848c-.693.94-1.65 1.317-2.26 1.34-.608.023-1.01.01-1.92-.672-1.141-.96-1.97-1.78-2.646-2.396-.686-.622-.988-1.025-.953-1.608.035-.583.63-.865 1.5-1.62.89-.77 1.37-.837 1.96-.905.392-.047.77-.005 1.098.35.234.273.91 1.013 1.176 1.31.266.296.444.487.75.742.31.256.577.387.91.274.32-.11.505-.29.711-.484.206-.193.476-.47.837-.817.36-.347 1.05-.893 1.38-1.09.328-.197.57-.25.75-.176.18.075.38.316.45.54.07.224.16.92.06 1.8-.1.88-.34 1.4-.34 1.4z" fill="#075E54"/>
            </svg>
            Share
          </button>
        </div>

        <div class="linkbox" id="linkBox" style="display:none;">
          <div class="link" id="generatedLink" title="Link will appear here"></div>
          <button id="copyBtn" title="Copy link" style="border-radius:8px;padding:8px;background:#203a7a;color:#fff;border:0;font-weight:700;">Copy</button>
        </div>

        <div class="small">Tip: à¤†à¤ª à¤²à¤¿à¤‚à¤• à¤•à¥‹ GitHub à¤ªà¤° host à¤•à¤°à¤•à¥‡ à¤­à¥€ à¤¶à¥‡à¤¯à¤° à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤</div>
        <div class="footer" style="margin-top:16px;">
          <div class="brand">Birthday Magic</div>
          <div style="font-size:12px;color:#9fb0ff">Made for celebration âœ¨</div>
        </div>
      </div>
    </div>

    <!-- Celebration overlay -->
    <div class="celebrate" id="celebrate" aria-hidden="true" style="pointer-events:none;">
      <div class="message" id="message">Happy Birthday to you!</div>
      <div class="fromName" id="fromName"></div>
    </div>

    <!-- Canvas for fireworks/confetti -->
    <canvas id="fx"></canvas>

    <!-- Play overlay if autoplay blocked -->
    <div class="playOverlay" id="playOverlay" style="display:none;">
      <button class="playBtn" id="bigPlay">Play Wishes & Fireworks âœ¨</button>
    </div>

    <!-- Hidden audio element -->
    <audio id="bgAudio" src="birthday.mp3" preload="auto"></audio>
  </div>

<script>
(function(){
  const urlParams = new URLSearchParams(location.search);
  const fromParam = urlParams.get('from') || '';
  const yourNameInput = document.getElementById('yourName');
  const genBtn = document.getElementById('genBtn');
  const shareBtn = document.getElementById('shareBtn');
  const linkBox = document.getElementById('linkBox');
  const generatedLink = document.getElementById('generatedLink');
  const copyBtn = document.getElementById('copyBtn');
  const celebrate = document.getElementById('celebrate');
  const message = document.getElementById('message');
  const fromNameEl = document.getElementById('fromName');
  const bgAudio = document.getElementById('bgAudio');
  const playOverlay = document.getElementById('playOverlay');
  const bigPlay = document.getElementById('bigPlay');
  const fxCanvas = document.getElementById('fx');
  const ctx = fxCanvas.getContext('2d');

  // Resize canvas
  function fitCanvas(){ fxCanvas.width = window.innerWidth; fxCanvas.height = window.innerHeight; }
  window.addEventListener('resize', fitCanvas);
  fitCanvas();

  // Utility: simple sanitize
  function sanitizeName(n){
    return (n||'').toString().trim().replace(/[&<>"]/g,'').slice(0,40);
  }

  // Create link
  function createShareURL(name){
    const base = location.origin + location.pathname;
    return base + '?from=' + encodeURIComponent(name||'');
  }

  // Copy to clipboard
  copyBtn.addEventListener('click', async ()=>{
    const txt = generatedLink.textContent;
    try{
      await navigator.clipboard.writeText(txt);
      copyBtn.textContent = 'Copied âœ”';
      setTimeout(()=>copyBtn.textContent = 'Copy',1500);
    }catch(e){
      alert('Copy failed â€” please copy manually.');
    }
  });

  // Generate link click
  genBtn.addEventListener('click', ()=>{
    const name = sanitizeName(yourNameInput.value || 'Someone');
    const url = createShareURL(name);
    generatedLink.textContent = url;
    linkBox.style.display = 'flex';
    // show overlay play if available
    // try to use navigator.share
    attemptAutoPlayThenShare(url, name);
  });

  // Share button (explicit)
  shareBtn.addEventListener('click', async ()=>{
    const name = sanitizeName(yourNameInput.value || 'Someone');
    const url = createShareURL(name);
    generatedLink.textContent = url;
    linkBox.style.display = 'flex';
    attemptAutoPlayThenShare(url, name, true);
  });

  // Attempt to auto-play audio; if blocked, show big overlay
  async function attemptAutoPlayThenShare(url, name, openShare=false){
    // Try play
    try{
      await bgAudio.play();
      // success
      startCelebration(name);
    }catch(err){
      // show overlay to prompt user
      playOverlay.style.display = 'flex';
      bgAudio.pause();
    }

    // Use Web Share API if present or WhatsApp fallback
    const shareText = `Happy Birthday! ðŸŽ‰\nOpen the wish: ${url}\nFrom: ${name}`;
    if(openShare){
      if(navigator.share){
        try{
          await navigator.share({ title:'Happy Birthday!', text:shareText, url:url});
          return;
        }catch(e){
          // ignore and fallback
        }
      }
      // WhatsApp fallback
      const wa = 'https://api.whatsapp.com/send?text=' + encodeURIComponent(shareText);
      window.open(wa,'_blank');
    }
  }

  // Big play button handler
  bigPlay.addEventListener('click', async ()=>{
    try{
      await bgAudio.play();
    }catch(e){}
    playOverlay.style.display = 'none';
    // if there's a from param in URL, celebrate
    if(fromParam) startCelebration(fromParam);
    else startCelebration(yourNameInput.value || 'Friend');
  });

  // If opened with ?from=Name then show celebration immediately
  if(fromParam){
    // place the incoming sender name in top input for convenience
    yourNameInput.value = fromParam;
    // try to autoplay bg audio
    (async ()=>{
      try{ await bgAudio.play(); }catch(e){ playOverlay.style.display = 'flex'; }
      startCelebration(fromParam);
    })();
  }

  // Start celebration: show animated text, firecrackers
  function startCelebration(name){
    name = sanitizeName(name) || 'Friend';
    // show message animated
    message.style.transition = 'transform 700ms ease, opacity 700ms';
    message.style.transform = 'translateY(0)';
    message.style.opacity = '1';
    message.classList.add('pulse');
    // typing animation for fromName
    fromNameEl.style.opacity = '1';
    fromNameEl.innerHTML = `<span class="typeAnim" id="typeHere">From ${name}</span>`;
    celebrate.style.pointerEvents='none';
    // fireworks intensify (3x particles)
    launchFireworks(120); // high count for intense effect
    // small repeated bursts
    setTimeout(()=>launchFireworks(90),900);
    setTimeout(()=>launchFireworks(70),1800);
  }

  /* --- Fireworks / confetti simple system --- */
  const particles = [];
  let lastTime = 0;
  class P {
    constructor(x,y,dx,dy,life,clr,size){
      this.x=x; this.y=y; this.dx=dx; this.dy=dy; this.life=life; this.max=life; this.clr=clr; this.size=size;
    }
    update(dt){
      this.x += this.dx*dt;
      this.y += this.dy*dt;
      this.dy += 0.0008 * dt * 60; // gravity small
      this.dx *= 0.999;
      this.life -= dt*60;
    }
    draw(ctx){
      const alpha = Math.max(0, Math.min(1, this.life/this.max));
      ctx.globalAlpha = alpha;
      ctx.beginPath();
      ctx.fillStyle = this.clr;
      ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
      ctx.fill();
    }
  }

  function rand(a,b){ return a + Math.random()*(b-a); }
  function launchFireworks(amount){
    const w = fxCanvas.width, h = fxCanvas.height;
    for(let i=0;i<amount;i++){
      const px = rand(0.15*w, 0.85*w);
      const py = rand(h*0.15, h*0.45);
      const clr = `hsl(${Math.floor(rand(0,360))}deg 90% 65%)`;
      const pieces = Math.floor(rand(18,32)); // pieces per burst
      for(let p=0;p<pieces;p++){
        const ang = Math.random()*Math.PI*2;
        const speed = rand(0.6,3.2) * (1 + Math.random()*1.5);
        const size = rand(1.6,4.8);
        const life = rand(40,120);
        particles.push(new P(px,py, Math.cos(ang)*speed, Math.sin(ang)*speed, life, clr, size));
      }
      // Add some spark trails
      for(let t=0;t<6;t++){
        particles.push(new P(px, py, rand(-2,2), rand(-4,2), rand(20,70), '#fff', rand(1,2.6)));
      }
    }
  }

  function animate(now){
    const dt = lastTime ? (now - lastTime)/1000 : 0.016;
    lastTime = now;
    ctx.clearRect(0,0,fxCanvas.width, fxCanvas.height);
    // draw particles
    for(let i=particles.length-1;i>=0;i--){
      const p = particles[i];
      p.update(dt);
      p.draw(ctx);
      if(p.life<=0 || p.y>fxCanvas.height+50) particles.splice(i,1);
    }
    requestAnimationFrame(animate);
  }
  requestAnimationFrame(animate);

  // Friendly: clicking generated link area opens actual link
  generatedLink.addEventListener('click', ()=>{
    const t = generatedLink.textContent;
    if(t) window.open(t,'_blank');
  });

  // Also allow chain sharing: if someone opens and wants to forward â€” show input to enter THEIR name and generate new link
  // (we already have the input box on right for that)

  // Small UX: when user focuses input, hide play overlay maybe
  yourNameInput.addEventListener('focus', ()=>{ playOverlay.style.display='none'; });

  // Accessibility: pressing Enter on input triggers Generate
  yourNameInput.addEventListener('keydown', (e)=>{
    if(e.key==='Enter') genBtn.click();
  });

  // Small enhancement: clicking cake triggers a small burst
  document.getElementById('cakeImg').addEventListener('click', ()=>{
    launchFireworks(40);
    try{ bgAudio.play(); }catch(e){ playOverlay.style.display='flex'; }
  });

  // Try to autoplay muted first (some browsers allow muted) then unmute when possible
  (async ()=>{
    try{
      bgAudio.muted = true;
      await bgAudio.play();
      bgAudio.pause();
      bgAudio.muted = false;
    }catch(e){}
  })();

  // End of IIFE
})();
</script>
</body>
</html>

<script
  async="async"
  data-cfasync="false"
  src="//pl28180421.effectivegatecpm.com/127f6a74455c8e74b6edd84d1f07ea03/invoke.js"
></script>
<div id="container-127f6a74455c8e74b6edd84d1f07ea03"></div>